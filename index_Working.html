<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="Content-Security-Policy" content="
      default-src 'none';
      script-src 'self';
      style-src 'self' https://maxcdn.bootstrapcdn.com;
      img-src 'self';
      connect-src 'self';
      font-src 'self' https://maxcdn.bootstrapcdn.com;
      object-src 'none';
      frame-src 'none';
      base-uri 'self';
      form-action 'none';
      report-to csp-endpoint;">
    
    <link href="https://maxcdn.bootstrapcdn.com/font-awesome/4.2.0/css/font-awesome.min.css" rel="stylesheet">
    <title>Sunil's Portfolio</title>
    
    <style>
        body {
            margin: 0;
            padding: 0;
            line-height: 1.4;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            font-size: 14px;
            background-color: #f4f4f4;
        }        
        
        .menu-container {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 10px 20px;
        }
        .menu-section {
            flex: 1;
            display: flex;
            align-items: center;
            justify-content: center;
        }
        .middle-column-menu {
            width: 15%;
            float: left;
            background-color: #555;
        }
        .right-column-menu {
            width: 5%;
            float: left;
            background-color: #555;
        }    
        
        .round-menu {
            display: flex;
            background-color: #555;
            border-radius: 50px;
            padding: 5px;
        }
        
        .round-menu a {
            color: white;
            padding: 10px 20px;
            text-decoration: none;
            margin: 0 2px;
            border-radius: 50px;
        }
        
        .round-menu a.active {
            background-color: #777;
        }
        
        .round-menu a:hover {
            background-color: #666;
            cursor: pointer;
        }
        
        .view-toggle {
            color: white;
            background-color: #555;
            border: none;
            padding: 8px 15px;
            border-radius: 20px;
            cursor: pointer;
        }
        
        .view-toggle:hover {
            background-color: #666;
        }
        
        .content-area {
            padding: 20px;
            max-width: 1200px;
            margin: 0 auto;
            display: none; /* Hide tiles by default */
        }
        
        /* Tiles View Styles */
        .thumbnails-container {
            display: flex;
            flex-wrap: wrap;
            gap: 20px;
            justify-content: center;
        }
        .thumbnail {
            width: 150px;
            height: 120px;
            position: relative;
            perspective: 1000px;
        }
        .thumbnail-inner {
            position: relative;
            width: 100%;
            height: 100%;
            transition: transform 0.6s;
            transform-style: preserve-3d;
        }
        .thumbnail:hover .thumbnail-inner {
            transform: rotateY(180deg);
        }
        
        .thumbnail-front, .thumbnail-back {
            position: absolute;
            width: 100%;
            height: 100%;
            backface-visibility: hidden;
            border-radius: 8px;
            overflow: hidden;
        }
        
        .thumbnail-front {
            background: #6e48aa;
            color: white;
        }

        .thumbnail-front.with-image {
            background: none;
        }
        
        .thumbnail-image {
            width: 100%;
            height: 100%;
            object-fit: cover;
        }     

        .thumbnail-title {
            font-size: 12px;
            font-weight: bold;
            color: white;
            width: 100%;
            display: -webkit-box;
            -webkit-line-clamp: 3; /* Allow text to wrap up to 3 lines */
            -webkit-box-orient: vertical;
            overflow: hidden;
            text-align: center;
            line-height: 1.3;
        }


        .thumbnail-back {
            background: white;
            color: #333;
            transform: rotateY(180deg);
            display: flex;
            align-items: center;  /* Center description vertically */
            justify-content: center;  /* Center description horizontally */
            padding: 15px;
            box-sizing: border-box;
        }
        
        .thumbnail-desc {
            font-size: 10px;
            color: #666;
            line-height: 1.3;
            word-break: break-word;
        }
        
        .thumbnail-link {
            display: block;
            width: 100%;
            height: 100%;
            text-decoration: none;
            color: inherit;
        }        
        .title-bar {
            position: absolute;
            bottom: 0;
            left: 0;
            width: 100%;
            height: 40%;
            background: rgba(0, 0, 0, 0.7);
            display: flex;
            align-items: center;
            justify-content: center;
            padding: 0 8px;
            box-sizing: border-box;
        }  
        
        
        /* Notification View Styles */
        .notification-view {
            display: block;
            width: 100%;
            height: calc(100vh - 100px);
        }
        
        .notification-column {
            height: 100%;
            overflow-y: auto;
            padding: 5px;
            box-sizing: border-box;
        }
        
        .left-column {
            width: 20%;
            float: left;
            font-size: 10px; /* Reduced font size for side panels */
        }
        .right-column {
            width: 15%;
            float: left;
            font-size: 10px; /* Reduced font size for side panels */
        }        
        /*
        .left-column {
            border-right: 1px solid #ddd;
        }*/
        
        .middle-column {
            width: 65%;
            float: left;
        }
        /*
        .right-column {
            border-left: 1px solid #ddd;
        }*/
        
        .notification-item {
            padding: 5px;
            margin-bottom: 8px;
            background-color: white;
            border-radius: 8px;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
            cursor: pointer;
            transition: all 0.3s;
            display: flex;
            align-items: flex-start;
            text-decoration: none;
            color: inherit;
        }
        
        .notification-image {
            width: 65px;
            height: 65px;
            object-fit: cover;
            border-radius: 4px;
            margin-right: 15px;
            flex-shrink: 0;
        }
        
        .notification-content {
            flex-grow: 1;
        }
        
        .notification-item:hover {
            box-shadow: 0 4px 8px rgba(0,0,0,0.15);
            transform: translateY(-2px);
        }
        
        .notification-title {
            font-weight: bold;
            margin-bottom: 5px;
            color: #333;
            text-decoration: none; /* No underline by default */
            display: block;
            /* Add font properties here */
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif; /* Example */
            font-size: 14px; /* Adjust size as needed */
            line-height: 1.3; /* Adjust spacing */
        }        
        
        .notification-title:hover {
            text-decoration: underline;
        }
        
        .notification-desc {
            font-size: 12px;
            color: #666;
            margin-bottom: 5px;
        }
        
        .notification-time {
            font-size: 12px;
            color: #999;
        }
        
        .section-title {
            font-size: 14px; /* Reduced from 18px */
            font-weight: bold;
            margin-bottom: 15px;
            padding-bottom: 5px;
            border-bottom: 1px solid #eee;
        }
        
        h2 {
            text-align: center;
            color: #333;
            margin-bottom: 20px;
        }
        
        .clearfix::after {
            content: "";
            display: table;
            clear: both;
        }
        
        .default-notification-image {
            width: 65px;
            height: 65px;
            background-color: #6e48aa;
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-size: 24px;
            border-radius: 4px;
            margin-right: 10px;
        }
        
        /* Round Menu with Icons */
        .round-menu a {
            color: white;
            padding: 5px 10px; /* Reduced padding for icons */
            margin: 0 2px;
            border-radius: 50px;
            display: flex;
            align-items: center;
            justify-content: center;
            width: 40px; /* Fixed width for circular buttons */
            height: 20px; /* Fixed height */
        }
        
        .round-menu a i {
            font-size: 18px; /* Icon size */
        }
        
        .round-menu a.active {
            background-color: #777;
            transform: scale(1.1); /* Slight zoom effect */
        }
        
        /* View Toggle Button with Icon */
        .view-toggle {
            color: white;
            background-color: #555;
            border: none;
            padding: 8px 12px;
            border-radius: 20px;
            cursor: pointer;
            display: flex;
            align-items: center;
            gap: 5px;
        }
        
        .view-toggle i {
            font-size: 16px;
        }

        .round-menu a::after {
            content: attr(title);
            position: absolute;
            top: 100%;
            background: #333;
            color: white;
            padding: 4px 8px;
            border-radius: 4px;
            font-size: 12px;
            opacity: 0;
            transition: opacity 0.3s;
        }
        
        .round-menu a:hover::after {
            opacity: 1;
        }        
        
    </style>
</head>
<body>
    <!-- Menu at the top -->
    <div class="menu-container">
        <div class="round-menu">
            <a id="blog-link" class="active" title="Blog">
                <i class="fa fa-file-text-o"></i> <!-- Blog icon -->
            </a>
            <a id="work-link" title="Work & Projects">
                <i class="fa fa-briefcase"></i> <!-- Work icon -->
            </a>
        </div>
        <button class="view-toggle" id="view-toggle">
            <i class="fa fa-th-large"></i> <!-- Default is tiles view icon -->
        </button>
    </div>
        
    <!-- I can have content-area or  notification-view
        content-area to show my data in tiles whereas notification view in lines
    -->
    <div class="content-area" id="content-area">
        <!-- Tiles view loads here by default -->
    </div>

    
    <div class="notification-view clearfix" id="notification-view">
        <div class="notification-column left-column" id="left-column">
            <!-- About Me and Beyond the Keyboard content will load here -->
        </div>
        <div class="notification-column middle-column" id="middle-column">
            <!-- Blog and Work notifications will load here -->
        </div>
        <div class="notification-column right-column" id="right-column">
            <!-- Social and other platforms will load here -->
        </div>
    </div>

    <script>
        // by default set current view as notification
        let currentView = 'notification'; // 'tiles' or 'notification'

        //add required listner
        document.addEventListener('DOMContentLoaded', function() {
            // Set click handlers
            document.getElementById('blog-link').onclick = function() {
                document.getElementById('blog-link').classList.add('active');
                document.getElementById('work-link').classList.remove('active');
                // display depends on which view to show..
                if(currentView === 'tiles') {
                    loadMyBlogs();
                } else {
                    loadNotificationBlogs();
                }
            };
            
            document.getElementById('work-link').onclick = function() {
                document.getElementById('work-link').classList.add('active');
                document.getElementById('blog-link').classList.remove('active');
                if(currentView === 'tiles') {
                    loadMyWork();
                } else {
                    loadNotificationWork();
                }
            };
            
            document.getElementById('view-toggle').onclick = toggleView;

            // Load Notification View by default
            document.getElementById('content-area').style.display = 'none';
            document.getElementById('notification-view').style.display = 'block';
            loadNotificationContent();
            loadNotificationBlogs(); // This will load blog notifications first

        });

        
        function toggleView() {            
            if(currentView === 'tiles') {
                currentView = 'notification';
                document.getElementById('content-area').style.display = 'none';
                document.getElementById('notification-view').style.display = 'block';
                document.getElementById('view-toggle').innerHTML = '<i class="fa fa-th-large"></i>'; // Tiles icon
                
                // Load appropriate content based on active tab
                if(document.getElementById('blog-link').classList.contains('active')) {
                    loadNotificationBlogs();
                } else {
                    loadNotificationWork();
                }
            } else {
                currentView = 'tiles';
                document.getElementById('content-area').style.display = 'block';
                document.getElementById('notification-view').style.display = 'none';
                document.getElementById('view-toggle').innerHTML = '<i class="fa fa-th-list"></i>'; // List icon                
                // Load appropriate content based on active tab
                if(document.getElementById('blog-link').classList.contains('active')) {
                    loadMyBlogs();
                } else {
                    loadMyWork();
                }
            }
        }
        
        function loadNotificationContent() {
            // Left column content
            let leftHtml = `
                <div class="section-title">About</div>
                <div id="about-me-content">Loading...</div>
                <div class="section-title" style="margin-top: 30px;">Beyond the Keyboard</div>
                <div id="beyond-content">Loading...</div>
                <div class="section-title" style="margin-top: 30px;">Social and Other Platforms</div>
                <div id="my-social-content">Loading...</div>
            `;
            document.getElementById('left-column').innerHTML = leftHtml;
            
            // Right column content
            let rightHtml = `
                <div class="section-title">Social and Other Platforms</div>
                <div style="margin-top: 15px;">
                    <p style="margin:10px 0;"><i class="fa fa-linkedin-square contactIcon" aria-hidden="true"></i>
                    <a href="https://www.linkedin.com/in/spatelsuy/" target="_blank">in/spatelsuy</a></p>
                    
                    <p style="margin:10px 0;"><i class="fa fa-github contactIcon" aria-hidden="true"></i>
                    <a href="https://github.com/spatelsuy/" target="_blank">Github/spatelsuy</a></p>
            
                    <p style="margin:10px 0;"><i class="fa fa-youtube contactIcon" aria-hidden="true"></i>
                    <a href="https://www.youtube.com/@SecuNotes/" target="_blank">@SecuNotes</a></p>
            
                    <p style="margin:10px 0;"><i class="fa fa-globe contactIcon" aria-hidden="true"></i>
                    <a href="https://www.udemy.com/user/sunil-patel-334/" target="_blank">Udemy</a></p>
                </div>
            `;
            document.getElementById('right-column').innerHTML = rightHtml;
            
            // Load About Me and Beyond content
            loadAboutMeForNotification();
            loadBeyondForNotification();
            loadSocialInfo();
        }

        async function loadSocialInfo(){
            let rightHtml = `
                <div style="margin-top: 15px;">
                    <p style="margin:10px 0;"><i class="fa fa-linkedin-square contactIcon" aria-hidden="true"></i>
                    <a href="https://www.linkedin.com/in/spatelsuy/" target="_blank">in/spatelsuy</a></p>
                    
                    <p style="margin:10px 0;"><i class="fa fa-github contactIcon" aria-hidden="true"></i>
                    <a href="https://github.com/spatelsuy/" target="_blank">Github/spatelsuy</a></p>
            
                    <p style="margin:10px 0;"><i class="fa fa-youtube contactIcon" aria-hidden="true"></i>
                    <a href="https://www.youtube.com/@SecuNotes/" target="_blank">@SecuNotes</a></p>
            
                    <p style="margin:10px 0;"><i class="fa fa-globe contactIcon" aria-hidden="true"></i>
                    <a href="https://www.udemy.com/user/sunil-patel-334/" target="_blank">Udemy</a></p>
                </div>
            `;
            document.getElementById('my-social-content').innerHTML = rightHtml;
        }
        async function loadAboutMeForNotification() {
            try {
                const response = await fetch('./AboutMe.html');
                const html = await response.text();
                document.getElementById('about-me-content').innerHTML = html;
            } catch (error) {
                document.getElementById('about-me-content').innerHTML = '<p>Error loading content.</p>';
                console.error('Error loading AboutMe.html:', error);
            }
        }
        
        async function loadBeyondForNotification() {
            try {
                const response = await fetch('./Beyond.html');
                const html = await response.text();
                document.getElementById('beyond-content').innerHTML = html;
            } catch (error) {
                document.getElementById('beyond-content').innerHTML = '<p>Error loading content.</p>';
                console.error('Error loading Beyond.html:', error);
            }
        }
        
        function loadNotificationBlogs() {
            fetch('./thumbnails_blogs.json?' + new Date().getTime())
                .then(response => response.json())
                .then(data => {
                    const count = data.length;
                    let html = `<div class="section-title">Recent Blog Posts (${count})</div>`;
                    
                    data.forEach((item) => {
                        const randomHours = Math.floor(Math.random() * 24);
                        const randomDays = Math.floor(Math.random() * 7);
                        
                        const imageElement = item.img ? 
                            `<img src="${item.img}" class="notification-image" alt="${item.title}">` :
                            `<div class="default-notification-image"><i class="fa fa-file-text"></i></div>`;
                        
                        html += `
                            <a href="${item.link}" target="_blank" class="notification-item">
                                ${imageElement}
                                <div class="notification-content">
                                    <span class="notification-title">${item.title}</span>
                                    <div class="notification-desc">${item.description}</div>
                                </div>
                            </a>
                        `;
                    });
                    
                    document.getElementById('middle-column').innerHTML = html;
                });   
        }
        
        function loadNotificationWork() {
            fetch('./thumbnails_work_and_project.json?' + new Date().getTime())
                .then(response => response.json())
                .then(data => {
                    const count = data.length;
                    let html = `<div class="section-title">Recent Work & Projects (${count})</div>`;
                    data.forEach((item) => {
                        const randomHours = Math.floor(Math.random() * 24);
                        const randomDays = Math.floor(Math.random() * 30) + 1;
                        
                        const imageElement = item.img ? 
                            `<img src="${item.img}" class="notification-image" alt="${item.title}">` :
                            `<div class="default-notification-image"><i class="fa fa-briefcase"></i></div>`;
                        
                        html += `
                            <a href="${item.link}" target="_blank" class="notification-item">
                                ${imageElement}
                                <div class="notification-content">
                                    <span class="notification-title">${item.title}</span>
                                    <div class="notification-desc">${item.description}</div>
                                </div>
                            </a>
                        `;
                    });
                    
                    document.getElementById('middle-column').innerHTML = html;
                });
        }
        
        function loadMyBlogs(){
            fetch('./thumbnails_blogs.json?' + new Date().getTime())
                .then(response => response.json())
                .then(data => {
                    let html = '<p align="center"><i>Learning by Doing. Exploring Ideas. Writing to Reflect.</i><br>' + 
                        '<br>These blogs are inspired by lessons learned, hands-on experiences in live IT environments, and reflections on forward-thinking ideas.'+
                        '<br>Whether it&#39;s Cybersecurity, Identity & Access Management, delivery transformation, strategic outcomes, ' + 
                        'or leadership topics — these posts aim to inform, inspire, and spark meaningful conversations.</p><div class="thumbnails-container">';
                    data.forEach((item) => {
                        const hasImage = item.img;
                        
                        html += `
                            <div class="thumbnail">
                                <a href="${item.link}" target="_blank" class="thumbnail-link">
                                    <div class="thumbnail-inner">
                                        <div class="thumbnail-front">
                                            ${hasImage ? 
                                                `<img src="${item.img}" class="thumbnail-image" alt="${item.title}">` 
                                                : ''
                                            }
                                            <div class="title-bar">
                                                <div class="thumbnail-title">${item.title}</div>
                                            </div>
                                        </div>
                                        <div class="thumbnail-back">
                                            <div class="thumbnail-desc">${item.description}</div>
                                        </div>
                                    </div>
                                </a>
                            </div>
                        `;
                    });
                    
                    html += '</div>';
                    document.getElementById('content-area').innerHTML = html;
                });   
        }
        
        function loadMyWork() {
            fetch('./thumbnails_work_and_project.json?' + new Date().getTime())
                .then(response => response.json())
                .then(data => {
                    let html = '<p align="center"><i>A collection of tools and projects driven by curiosity and creativity.</i><br><br>' +
                         'These are simple tools and utilities built to explore new ideas, solve problems, and share practical solutions with the community.<br>' +
                         'I share them through GitHub so others can use, learn from, or extend them further...</p><div class="thumbnails-container">';
                    
                    data.forEach((item) => {
                        const hasImage = item.img;
                        
                        html += `
                            <div class="thumbnail">
                                <a href="${item.link}" target="_blank" class="thumbnail-link">
                                    <div class="thumbnail-inner">
                                        <div class="thumbnail-front">
                                            ${hasImage ? 
                                                `<img src="${item.img}" class="thumbnail-image" alt="${item.title}">` 
                                                : ''
                                            }
                                            <div class="title-bar">
                                                <div class="thumbnail-title">${item.title}</div>
                                            </div>
                                        </div>
                                        <div class="thumbnail-back">
                                            <div class="thumbnail-desc">${item.description}</div>
                                        </div>
                                    </div>
                                </a>
                            </div>
                        `;
                    });
                    
                    html += '</div>';
                    document.getElementById('content-area').innerHTML = html;
                });
        }
    </script>
</body>
</html>
